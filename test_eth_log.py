import json

from chainpy.eth.ethtype.chaindata import EthLog
from chainpy.eth.managers.multichainmanager import MultiChainManager

log1 = {
    "chain_name": "BFC_TEST",
    "contract_name": "socket",
    "event_name": "Socket",
    "log": {
        "address": "0x0218371b18340abd460961bdf3bd5f01858dab53",
        "blockHash": "0xe565914cfd19516bc65af75f347a7de05168e969218f5d9fa85d6b7df6464ddf",
        "blockNumber": "0x2676f2",
        "data": "0x000000000000000000000000000000000000000000000000000000000000002000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000287000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000040000bfc000000000000000000000000000000000000000000000000000000000030101040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e000000001ffffffff000000053a815eba66eabe966a6ae7e5df9652eca24e9c540000000000000000000000000000000000000000000000000000000000000000000000000000000000000000466d25b791fd4882e15af01fc28a633014104b2b000000000000000000000000466d25b791fd4882e15af01fc28a633014104b2b00000000000000000000000000000000000000000000000000470de4df82000000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000",
        "logIndex": "0x0",
        "removed": False,
        "topics": [
            "0x918454f530580823dd0d8cf59cacb45a6eb7cc62f222d7129efba5821e77f191"
        ],
        "transactionHash": "0xff587553b669b3bc8234c84270c7fc9936ae37d6a6c3e789cd8eb5080942a676",
        "transactionIndex": "0x2"
    }
}


PUBLIC_CONFIG_FILE_PATH = "./configs/entity.relayer.json"
PRIVATE_CONFIG_FILE_PATH = "./configs/entity.relayer.private.json"


if __name__ == "__main__":
    manager = MultiChainManager.from_config_files(PUBLIC_CONFIG_FILE_PATH, PRIVATE_CONFIG_FILE_PATH)

    result = EthLog.from_dict(log)
    print(json.dumps(result.to_dict(), indent=4))
